{% extends "base.html" %}
{% block title %}Admin · Membresías{% endblock %}

{% block content %}
<div class="container mt-4">
  <h3>Membresías</h3>
  <form method="post" class="row g-2 align-items-end">
    <div class="col-md-3">
      <label class="form-label">Código</label>
      <input name="code" class="form-control" placeholder="level_4">
    </div>
    <div class="col-md-3">
      <label class="form-label">Título</label>
      <input name="title" class="form-control" placeholder="Nivel 4">
    </div>
    <div class="col-md-2">
      <label class="form-label">Máx. análisis</label>
      <input name="max_execs" type="number" min="1" value="10" class="form-control">
    </div>
    <div class="col-md-2">
      <label class="form-label d-block">Activo</label>
      <input type="checkbox" name="is_active" class="form-check-input" checked>
    </div>
    <div class="col-md-2">
      <button class="btn btn-primary w-100">Guardar</button>
    </div>
  </form>

  <hr class="my-4">

  <table class="table table-sm align-middle">
    <thead>
      <tr>
        <th>ID</th><th>Código</th><th>Título</th><th>Máx.</th><th>Activo</th><th></th>
      </tr>
    </thead>
    <tbody>
      {% for m in levels %}
      <tr>
        <td>{{ m.id }}</td>
        <td>{{ m.code }}</td>
        <td>{{ m.title }}</td>
        <td>{{ m.max_execs }}</td>
        <td>{{ 'Sí' if m.is_active else 'No' }}</td>
        <td>
          <form method="post" action="{{ url_for('admin.memberships_delete', mid=m.id) }}" onsubmit="return confirm('¿Eliminar nivel?');">
            <button class="btn btn-sm btn-outline-danger">Eliminar</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
